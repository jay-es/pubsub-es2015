(a=>{const b={},c=(e='')=>{const f=e.split('.');return{et:f.shift(),ns:f}},d=(e,f)=>e.some(g=>!f.includes(g));a.pubsub={sub(e,f){const{et:g,ns:h}=c(e);g&&(h.fn=f,b[g]=b[g]||[],b[g].push(h))},unsub(e){const{et:f,ns:g}=c(e);Object.keys(b).forEach(h=>{f&&h!==f||(b[h]=b[h].filter(i=>d(g,i)))})},pub(e,...f){const{et:g,ns:h}=c(e);g&&b[g]&&b[g].forEach(i=>{d(h,i)||i.fn.apply(a,f)})}}})(this);
